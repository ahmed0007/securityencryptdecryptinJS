<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Vigenere cipher </title>
	<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="js/vig.js"></script>	
	</head>
	<body>
	<form>
		<div class="container" style="margin-top: 40px;">
			<div class="alert alert-danger" style="display: none;">
  				<strong id="alertxt"></strong> 
			</div>
			<div class="form-group">
			    <label for="txt">Input text:</label>
				<textarea class="form-control" id="txt"></textarea>
			</div>
			<div class="form-group">
				<label for="txt">Key:</label>
				<input type="text" name="text" class="form-control">
			</div>
			<div class="form-group">
				<select class="form-control">
					<option value="0">crypt</option>
					<option value="1">decrypt</option>
				</select>
			</div>
			<div class="form-group">
				<button type="button" onclick="calc()" class="btn btn-primary">GO!</button>
			</div>
		</div>
		<script>
			function calc() {
				var txt = document.querySelector("textarea"),
				    key = document.querySelector("input"),
				    crypt = document.querySelector("select").value,
				    alertblock = document.querySelector(".alert")
				    alertxt = document.querySelector("#alertxt");
					try{
						txt.value = vigenere(txt.value,key.value,crypt);
						alertblock.style.display="none";
					} catch(e) {
						alertblock.style.display="block";
						alertxt.innerText=e;
					}
			}
		</script>
	</form>
	</body>
</html>